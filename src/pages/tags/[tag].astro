---
// import type { GetStaticPaths } from "astro";
import BlogPost from '../../components/BlogPost.astro';
import BaseLayout from '../../layouts/BaseLayout.astro';
export async function getStaticPaths() {

  const allPosts = await Astro.glob("../posts/*.md")

  return [
    {
      params: {
        tag: "astro",
      },
      props: { posts: allPosts },
    },
    {
      params: {
        tag: "blog",
      },
      props: {  posts: allPosts },
    },
    {
      params: {
        tag: "programming",
      },
      props: {  posts: allPosts },
    },
  ];
}

const { tag } = Astro.params;
const { posts } = Astro.props;
---

<BaseLayout pageTitle={tag}>
  <p>{tag}タグの付いた記事</p>
  <ul>
    {
      posts.map((post) => (
      <BlogPost url={post.url} title={post.frontmatter.title} />
    ))
    }
  </ul>

</BaseLayout>